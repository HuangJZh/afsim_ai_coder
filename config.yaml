# config.yaml
model:
  path: "D:/Qwen/Qwen/Qwen3-4B"
  # path: "D:/Qwen/Qwen/Qwen3-4B"
  # path: "D:/Qwen/Qwen/Qwen3-8B"
  max_tokens: 1024
  temperature: 0.3
  top_p: 0.9
  top_k: 50
  repetition_penalty: 1.1

vector_db:
  chunk_size: 350  # 增大块大小，减少总块数
  chunk_overlap: 100
  smart_chunking: true  # 启用智能分割
  semantic_threshold: 0.8  # 语义分割阈值
  persist_dir: "vector_db_afsim_enhanced"
  search_k: 5
  batch_size: 2000  # 批次大小

project:
  root: "D:/Qwen/Qwen3/afsim_ai_coder/demos"
  base_libraries: ["base_types", "base_types_nx"]
  max_file_size_mb: 5
  skip_patterns: ["(1)", "(2)", "副本", "copy", "temp", "备份"]
  encodings: ["utf-8", "gbk", "gb2312", "gb18030", "latin1", "cp1252"]

logging:
  level: "INFO"
  file: "afsim_coder.log"

embedding:
  # model: "BAAI/bge-m3"
  model: "BAAI/bge-small-zh-v1.5"

#分阶段生成
generation:
  strategy: "multi_stage"
  stages:
    - name: "project_structure"
      description: "分析需求并规划项目结构"
      max_tokens: 300
      temperature: 0.1
    
    - name: "main_program"
      description: "生成主程序文件"
      max_tokens: 800
      temperature: 0.2
      
    - name: "platforms"
      description: "生成平台定义文件"
      max_tokens: 1200
      temperature: 0.15
      
    - name: "scenarios"
      description: "生成场景文件"
      max_tokens: 1000
      temperature: 0.15
      
    - name: "processors"
      description: "生成处理器文件"
      max_tokens: 900
      temperature: 0.15
      
    - name: "sensors"
      description: "生成传感器文件"
      max_tokens: 700
      temperature: 0.15
      
    - name: "weapons"
      description: "生成武器文件"
      max_tokens: 700
      temperature: 0.15
      
  
  output:
    base_dir: "generated_projects"
    create_folders: true
    generate_readme: true
    include_examples: false
  
  validation:
    check_dependencies: true
    verify_imports: true
    test_scenarios: false